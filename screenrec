#!/usr/bin/env bash
# 🎥 aserdev's wf-recorder Rofi menu 💀
# Dependencies: wf-recorder, rofi (or wofi)

OUTPUT="$HOME/Videos/recording-$(date +%Y%m%d-%H%M%S).mp4"

MENU=$(printf "🎬 Record Fullscreen\n📐 Record Area\n🛑 Stop Recording" | rofi -dmenu -p "Screen Recorder:")

case "$MENU" in
    "🎬 Record Fullscreen")
        notify-send "📹 Recording Started" "Mode: Fullscreen"
        wf-recorder -f "$OUTPUT" &
        ;;
    "📐 Record Area")
        notify-send "📹 Select Area to Record"
        wf-recorder -g "$(slurp)" -f "$OUTPUT" &
        ;;
    "🛑 Stop Recording")
        if pgrep -x wf-recorder >/dev/null; then
            pkill -SIGINT wf-recorder
            notify-send "🛑 Recording Stopped" "Saved to ~/Videos"
        else
            notify-send "⚠️ No Recording Found" "You're chillin 💀"
        fi
        ;;
    *)
        ;;
esac

